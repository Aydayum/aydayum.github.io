<!doctype html>
<html>
  <head>
    <title>Hack me!</title>
    <script async type="text/javascript" src="hackme.js"></script>
  </head>
  <body>
    <script>
      const urlString = window.location.search;
      const params = new URLSearchParams(urlString);
      const msg = params.get('msg')
      
      function run_wasm_function() {
        ccall('vulnerable_function', null, ['string'], [msg]);
      }

      setTimeout(run_wasm_function, 1000);
    </script>
    <p id="xss">Send a GET request with msg parameter to show "Hardcoded msg"!</p>
  </body>
</html>
